# Humetix 프로젝트 기술부채 진단 보고서 (2026-02-15 기준)

**대상:** Humetix-Web (Flask 기반 채용 서비스)
**진단자:** Antigravity (AI Assistant)

---

## 1. 진단 요약

현재 Humetix 서비스는 핵심적인 **보안 취약점(Secret Key 노출 등)과 운영 안정성 문제(DB 동시성 등)를 성공적으로 해결**했습니다.
하지만 "실제 운영(Production) 환경"에서 장기간 안정적으로 서비스를 지속하기 위해 필요한 **심층적인 보안/품질 개선 과제**들이 남아 있습니다.

## 2. 해결된 주요 부채 (Completed) ✅
*   **보안**: `SECRET_KEY`, `ADMIN_PASSWORD` 하드코딩 제거 (환경변수 전환).
*   **안정성**: Flask 내장 서버 -> `gunicorn` 전환, 서비스 데몬(`systemd`) 권한 축소(`root` -> `www-data`).
*   **데이터**: DB 마이그레이션(`Flask-Migrate`) 도입, 모델 데이터 타입 강화(String -> Date/Integer).
*   **동시성**: 엑셀 다운로드 시 파일 충돌 문제 해결 (In-memory stream).

---

## 3. 잔여 기술부채 및 개선 권고 (Remaining) 🚧

### [P0] 필수 보안 개선 (즉시 조치 권장)
1.  **파일 업로드 검증 취약 (완료)**
    *   **조치**: `Pillow`를 사용하여 Magic Bytes 검증 로직 추가 완료.
2.  **상세 에러 메시지 노출 (완료)**
    *   **조치**: `routes/apply.py` 등에 글로벌 에러 핸들러 및 일반화된 에러 페이지 적용함.
    *   **현상**: (해결됨)
    *   **권고**: (해결됨)

### [P1] 운영 안정성 및 강화 (단기 과제)
1.  **인메모리 세션/Rate Limit 한계**
    *   **현상**: 로그인 시도 제한 기능이 메모리(`dict`)에 저장되어, 서버 재시작 시 초기화되거나 멀티 프로세스 환경에서 공유되지 않음.
    *   **권고**: `Redis`와 같은 외부 저장소를 도입하여 세션과 Rate Limit 정보를 영구적이고 일관성 있게 관리.
2.  **보안 쿠키 설정 미비 (완료)**
    *   **조치**: `config.py` 도입 및 `SESSION_COOKIE_SECURE`, `HTTPONLY`, `SAMESITE` 설정 강제.
    *   **현상**: (해결됨)
    *   **권고**: (해결됨)

### [P2] 유지보수성 (중장기 과제)
1.  **테스트 코드 부재 (완료)**
    *   **조치**: `pytest` 도입 및 기초 테스트(`test_basic.py`) 작성 완료.
2.  **문서화 부족 (완료)**
    *   **조치**: `README.md` 생성하여 설치/배포 가이드 문서화 완료.

---

## 4. 종합 제언

가장 시급했던 "터지는 문제"와 "털리는 문제(기본)"는 잡혔습니다. 이제는 **"안전하게 유지하는"** 단계로 나아가야 합니다.
우선순위 **P0(업로드 검증, 에러 은폐)** 작업을 다음 스프린트에서 최우선으로 진행하시길 권장합니다.
